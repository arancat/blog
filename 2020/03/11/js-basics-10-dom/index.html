<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>js-basics-10-dom | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="DOM 重点：dom操作，节点替换，节点封装 在 es3 里面重复的参数是不报错的，但是在 es5 里面是会报错的h表示和修改文档所需的方法（对象、这些对象的行为和属性以及这些对象之间的关系。）DOM 对象即为宿主对象，由浏览器厂商定义，用来操作html 和 xml 功能的一类对象的集合。也有人称DOM 是对 HTML 以及 XML 的标准编程接口。xml    &#x3D;&#x3D;&gt;    xhtml">
<meta property="og:type" content="article">
<meta property="og:title" content="js-basics-10-dom">
<meta property="og:url" content="http://yoursite.com/2020/03/11/js-basics-10-dom/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="DOM 重点：dom操作，节点替换，节点封装 在 es3 里面重复的参数是不报错的，但是在 es5 里面是会报错的h表示和修改文档所需的方法（对象、这些对象的行为和属性以及这些对象之间的关系。）DOM 对象即为宿主对象，由浏览器厂商定义，用来操作html 和 xml 功能的一类对象的集合。也有人称DOM 是对 HTML 以及 XML 的标准编程接口。xml    &#x3D;&#x3D;&gt;    xhtml">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-03-11T02:36:04.000Z">
<meta property="article:modified_time" content="2020-03-11T02:38:35.657Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/blog/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-js-basics-10-dom" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/03/11/js-basics-10-dom/" class="article-date">
  <time datetime="2020-03-11T02:36:04.000Z" itemprop="datePublished">2020-03-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      js-basics-10-dom
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>DOM</p>
<p>重点：dom操作，节点替换，节点封装</p>
<p>在 es3 里面重复的参数是不报错的，但是在 es5 里面是会报错的<br>h<br>表示和修改文档所需的方法（对象、这些对象的行为和属性以及这些对象之间的关系。）DOM 对象即为宿主对象，由浏览器厂商定义，用来操作html 和 xml 功能的一类对象的集合。<br>也有人称DOM 是对 HTML 以及 XML 的标准编程接口。<br>xml    ==&gt;    xhtml    ==&gt;    html<br>xml 是最早的版本，xml 里面的标签是可以自定义的，被 js 里面的Jason 取代了<br>dom 不能改变 css 样式表,可以间接改变行间样式的 css</p>
<p>例：说的改变不了 css 是指改变不了css 的样式表，但是可以通过间接方式改变html<br>的行间样式来改变</p>
<p>1、找到 html 的方法：如 document.getElementsByTagName(‘div’)就能把所有的 div<br>都选出来。<br>如果想拿到第一个 div，写成 document.getElementsByTagName(‘div’) 后面就要加一个[0];就可以实现了<br>2、div.style 选出来代表行间样式，选出来的就是 dom 对象<br>3、js 不能写-，只能用小驼峰方法写。如background-color 写成 backgroundColor<br>例<br>有 dom 操作以后就变成动态交互可以操作的了（你动一下，他给你一个反应）<br>div.onclick 是加一个交互效果的事件监听</p>
<p>例实现点击一下改变一下</p>
<p>例写个选项卡，点第一个按钮出现第一对应的信息，点第二个按钮，第一个消失， 出现第二个的信息</p>
<p>下面的 button 就是个按钮</p>
<p>例写个小方块应用<br>document.body.appendChild(div);意思是在 body 里面放个 div<br>setInterval(function () {},100);是一个定时器功能，意思是每隔 100 毫秒就执行一次</p>
<p>把上面 setInterval(function){}改成以下样式：</p>
<p>最好用下面这种立即执行函数的写法：</p>
<p>把最上面 setInterval(function){}改成以下样式，可以让定时器停止</p>
<p>例 点了加速的按钮以后，移动的速度变快</p>
<p>例：现在要实现按住加速，不好写没写，看 js 运动课</p>
<p>按住加速：就是这一次按下与下一次按下的速度间隔时间十分短暂，就认为他加速了。<br>上面思路：每一次按下的时候都记录一个新的时间片段，都减去上一个执行的时间片段，如果时间片段都小于一定的毫秒数的话，我们让一个计数器去++，当连续小于的时候，就让计数器连续++,如果++到一定数的时候，我们认为是连续按了，再按就加速了，让每一次按的时候都判断一下,如果时间间隔过大的话，就让计数器重新归 0。——在 js 运动课里面讲</p>
<p>例 box-sizing:border-box;启动了另外一种盒模型</p>
<p>中间有<li img-date="”0”"></li>*400，onmouseover 是鼠标滑过变成</p>
<p>把左边的案例，如图去掉边线</p>
<p>emmet 插件提供的方法：（打字操作）例 div*3<br>例 div.demo 就是直接设置了 class 名字例 div.demo#only<br>例 div.demo#only</p>
<p>例 div.demo#only &gt; p[style=’background-color:red;width:100px;height:100px;’]</p>
<p>例 div&gt;(p^span.demo)<br>例加内容就用{}花括号<br>div&gt;(p^span.demo{123})</p>
<p>例 ul&gt;li{$}<em>10 这里面的$代表变量    ============&gt;<br>例 ul&gt;li{$</em>2}*10    ============================&gt;<br>可以看看 emmet 插件教程<br>在安装插件之前要按一个package control，在百度里面找，复制代码后，按 ctrl+~再把复制的代码粘贴到这里，按回车就可以了<br>在sublime text 里面preferences 里面找到package control，在搜索框找到install package<br>后打 emmet，Jsprettify（整理排序用的）<br>编辑器还有 vscode，webstrom，atom</p>
<p>DOM 基本操作(大部分都是类数组)——方法类操作1.对节点的增删改查    ()括号里面都不用写.或#<br> 查<br> 查看元素节点<br>document 代表整个文档（如果给 html 标签上面再套一层标签就是 document） document.getElementById() //元素 id 在 Ie8 以下的浏览器，不区分 id 大小写，而且也返回匹配 name 属性的元素，通过 id 标识我们来选择这个元素，一一对应<br>例</p>
<p>除了 id 以外，其余选择出来的都是一组，很少用 id 选择器<br>.getElementsByTagName()    //标签名，这是一个类数组，最主流的用法，经常用<br>例把页面里面所有的 div 都选择出来</p>
<p>从 dom 开始，我们所学的一切系统给我们生成的成组的东西，基本上都是类数组例加个[0]就选中了第一个div，如果不加 0，那个 div 表示的是一个数组，设置背景颜色就会报错</p>
<p>例把下面所有的div 都拿出来</p>
<p>只拿出第二个 div，加上[1] ，或者在控制台上打 div[1]<br>例选择第一个 p 的方式如下</p>
<p>例只拿出 demo 的 p 标签写法如下：</p>
<p>注意哪怕整个文档只有一个demo，也要加[0]，不然选出来的就是一个组</p>
<p>getElementsByName(); //IE 不支持需注意，只有部分标签 name 可生效（表单，表单元素，img，iframe），不是在所有的浏览器都能用——开发一般不用<br>例</p>
<p>.getElementsByClassName()    // 类名 -&gt;缺点： ie8 和ie8 以下的 ie 版本中没有，可以多个 class 一起，不是所有浏览器都能用<br>.querySelector()    // css 选择器，只能选一个，在 ie7 和 ie7 以下的版本中没有<br>.querySelectorAll()    // css 选择器，全选，选一组，在 ie7 和 ie7 以下的版本中没有<br>.querySelectorAll()和.querySelector()选出来的元素不是实时的（是静态的），所以一般不用，其他的再怎么修改，跟原来的没有关系<br>id 选择器不能太依赖，一般当顶级框架存在，在 css 中一般用 class 选择器<br>query 是一个词条</p>
<p>例.querySelector()和.querySelectorAll()选出来的元素不是实时的，是静态的，是副本</p>
<p>DOM 基本操作——非方法类的操作<br> 遍历节点树：(灵活，兼容好)——关系类的选择<br>parentNode  → 父 节点    (最顶端的 parentNode 为#document);<br>childNodes → 子节点们（直接的节点数）节点包括文本节点，属性节点<br>firstChild → 第一个子节点lastChild → 最后一个子节点nextSibling →后一个兄弟节点previousSibling → 前一个兄弟节点</p>
<p>例 parentNode → 父节点</p>
<p>下面的都是实时的</p>
<p>childNodes → 子节点们</p>
<p>例.querySelectorAll()选中了所有的 div，但是实时操作不能实时反馈</p>
<p>节点为什么是 7？<br>答案第一个节点是<div>后面的文本节点（空格回车），第二个节点是元素节点<br><strong><span>1</span></strong>，第三个节点是跟着的文本节点（空格回车），第四个节点是<span></span>，第五个是跟着的文本节点（空格回车），第六个是<em></em>，第七个是跟着的文本节点（空格回车）</div></p>
<p>后面的数字是调用 nodeType 返回的数字<br>元素节点    ——    1<br>属性节点    ——    2    （基本没用，）<br>文本节点    ——    3<br>注释节点    ——    8<br>document    ——    9<br>DocumentFragment    ——    11</p>
<p>答案七个，第一个节点是<div>后面的文本节点（空格回车），第二个节点是注释节点，第三个节点是跟着的文本节点（空格回车），第四个节点是元素节点<br><strong></strong>，第五个是跟着的文本节点（空格回车），第六个是<span></span>， 第七个是跟着的文本节点（空格回车）</div></p>
<p>答案七个，123 和空格等是一个文本</p>
<p>例 nextSibling →后一个兄弟节点 ，previousSibling → 前一个兄弟节点</p>
<p> 基于元素节点树的遍历（不含文本节点）<br>（除 children 外，其余 ie9 及以下不兼容）<br>parentElement -&gt; 返回当前元素的父元素节点 (IE 不兼容) 例</p>
<p>例 children -&gt; 只返回当前元素的元素子节点</p>
<p>例 nextElementSibling / previousElementSibling -&gt;返回后一个/前一个兄弟元素节点<br>（IE 不兼容)</p>
<p>例 node.childElementCount    === node.children.length 当前元素节点的子元素节点个数(IE 不兼容)——基本不用，因为与 length 相等<br>例 firstElementChild -&gt; 返回的是第一个元素节点(IE 不兼容) lastElementChild -&gt; 返回的是最后一个元素节点(IE 不兼容)</p>
<p>除 children 外，parentElement、node.childElementCount、firstElementChild、<br>lastElementChild、nextElementSibling、 previousElementSibling 在 ie9 及以下不兼容<br>真正常用的就是children，兼容性好</p>
<p>1、nodeName</p>
<p>每一个节点的四个属性</p>
<p>数字是调用 nodeType 返回的数字元素节点    —— 1</p>
<p>元素的标签名，以大写形式表示,只读，不能写<br>例 nodeName</p>
<p>属性节点    —— 2    （基本没用，class=“demo”就是一个属性节点）<br>文本节点    —— 3<br>注释节点    —— 8<br>document    —— 9<br>DocumentFragment    ——    11<br>例把 div 下面所有的直接子元素节点挑出来，放在数组里面返回，不能用 children</p>
<p>2、nodeValue<br>Text 文本节点或 Comment 注释节点的文本内容,可读写</p>
<p>3、nodeType（最有用）<br>该节点的类型，只读返回这个 div 的所有的元素节点</p>
<p>4、attributes<br>Element 节点的属性集合<br>例</p>
<p>例当且仅当这种情况下是false（没空格，没回车）</p>
<p>例属性的节点是div 上面的，不是 div 里的</p>
<p>DOM 接口<br>dom 结构树代表的是一系列继承关系</p>
<p>属性名不能改，属性值可以改，但是我们一般不用这种方法我们一般用 getAttribute 和setAttribute 去取<br> 节点的一个方法 Node.hasChildNodes();——他有没有子节点，返回值是 true 或 false</p>
<p>document 继承自 HTMLDocument.prototype。HTMLDocument.prototype 继承自 Document.prototype</p>
<p>DOM 基本操作<br>1.getElementById 方法定义在 Document.prototype 上，即Element 节点上不能使用。2.getElementsByName 方法定义在 HTMLDocument.prototype 上，即非 html 中的document 以外不能使用(xml document,Element)<br>3.getElementsByTagName 方法定义在 Document.prototype 和 Element.prototype 上例选 div 里的 span</p>
<p>开发中，经常利用先选择的父级，在他父级里面再次选什么元素来定位一个元素例</p>
<p>4.HTMLDocument.prototype 定义了一些常用的属性，body,head,分别指代 HTML 文档中的<body><head>标签。<meta name="generator" content="Hexo 4.2.0"></head></body></p>
<p>5.Document.prototype 上定义了 documentElement 属性，指代文档的根元素，在 HTML<br>文档中，他总是指代<html>元素</html></p>
<p>6.getElementsByClassName、querySelectorAll、querySelector 在Document,Element 类中均有定义<br>作业 1.遍历元素节点树，要求不能用 children 属性（在原型链上编程）<br>答案：低级方法，给一个父节点，把子节点全部遍历出来，并打印<br>高级方法：打印树形结构 → 分层打印出来<br>先看 div 再看子元素节点， 再挨个判断</p>
<p>2.封装函数，返回元素 e 的第 n 层祖先元素</p>
<p>3.封装函数，返回元素 e 的第 n 个兄弟节点，n 为正，返回后面的兄弟节点，n 为负， 返回前面的，n 为 0，返回自己。<br>答案</p>
<p>上面在 ie9 以下不能用。考虑到兼容性，可以按照下面思路写</p>
<p>1 是元素节点的返回值，用for 循环和三目运算：</p>
<p>如果 for（）{}循环的执行体是空的，那么可以不写{}</p>
<p>4.编辑函数，封装 children 功能，解决以前部分浏览器的兼容性问题<br>答案</p>
<p>1、增</p>
<p>DOM 基本操作</p>
<p>document.createElement();    //增加或创建元素节点（标签）——常见<br>例在括号里面写什么字符串，就创建什么标签</p>
<p>左上加了 123，但是页面里面没有显示，用右上方法即可document.body.appendChild(div) document.createTextNode(); //创建文本节点<br>document.createComment();   //创建注释节点<br>document.createDocumentFragment();    //创建文档碎片节点，最后讲</p>
<p>5.自己封装hasChildren()方法，不可用children 属性<br>答案</p>
<p>2、插——剪切操作PARENTNODE.appendChild();    可以理解成.push</p>
<p>例选择我们把邓宝宝插入到 span 里面去</p>
<p>例在 div 后，span 前插入 strong</p>
<p>例在 div 后，span 前插入 strong 的基础上，把 i 放 strong 前面</p>
<p>3、删</p>
<p>例把 span 放div 里面</p>
<p>4、替换<br>parent.replaceChild(new, origin);    //用新的 new 去置换旧的origin</p>
<p>PARENTNODE.insertBefore(a, b);一定是 div 先 insert a，before b<br>例</p>
<p>strong 插入效果见右侧</p>
<p>1、Element 节点的一些属性</p>
<p>DOM 基本操作</p>
<p>例下面的 innerText 让 span 没有了，所以赋值要谨慎</p>
<p>innerHTML   ==&gt;    可取，可写，可赋值<br>innerText    ==&gt;    可取，可赋值 (老版本火狐不兼容) / textContent(火狐使用这个， 老版本 IE 不好使)<br>例 div.innerHTML 可以改变 div 里面的 HTML 的内容</p>
<p>2、Element 节点的一些方法ele.setAttribute()    //设置ele.getAttribute();    //取这个值行间属性可以设置系统没有的例</p>
<p>div.innerHTML = “123”;是覆盖</p>
<p>用.setAttribute()设置属性</p>
<p>用.getAttribute()取这个值</p>
<p>例通过 div.setAttribute(‘id’,’only’)动态的去改 div 的值</p>
<p>可赋值，可写值的才能+=<br>下面是用 innerHTML 改变css 行间样式</p>
<p>当满足一定条件时，if 就可以动态操作了，配合事件连成整体操作<br>这个行间属性可以设置系统没有的。data-log 是打点，点击率，这是人工设置的行间属性，不是系统定义的</p>
<p>例 innerText 可取可赋值<br>赋值会覆盖掉（能覆盖标签）</p>
<p>例如何取这个 data-log？</p>
<p>例给三个标签，让他们行间有一个属性 this-name，比如第一个 DIV，第二个SPAN</p>
<p>low 方法 div.innerHTML,剩下全手写</p>
<p>如果想改变一个div 结构或 dom 结构或 html 结构的 class，直接用 div.className=””就可以了，不用setAttribute<br>作业<br>1.封装函数 insertAfter()；功能类似 insertBefore(); insertAfter 是系统没有提供的<br>提示:可忽略老版本浏览器，直接在Element.prototype 上编程</p>
<p>2.将目标节点内部的节点顺序，逆序。（标签逆序） eg:<div> <a></a> <em></em></div></p>
<div><em></em><a></a></div>
利用 appendChild 和剪切，第一次先操作倒数第二个，第二次操作倒数第三个，写个
for 循环
3.封装 remove(); 使得 child.remove()直接可以销毁自身

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/11/js-basics-10-dom/" data-id="ck7nh8zku0006kcu1fr39ci26" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2020/03/11/js-basics-11-function/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          js-basics-11-function
        
      </div>
    </a>
  
  
    <a href="/blog/2020/03/10/js-basics-9-es5/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">js-basics-9-es5</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2020/03/15/RegExp/">RegExp</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/15/js-time/">js-time</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/15/DOM/">DOM</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/11/js-bascis-MindMater/">js-bascis-MindMater</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/11/html-css-basics-sunmmary/">html-css-basics-sunmmary</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>




  </div>
</body>
</html>